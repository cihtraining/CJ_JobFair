@{
    Layout = "~/Areas/Admin/Views/Shared/_Layoutadmin.cshtml";
}
@model CJ_JobFair.Areas.Admin.Models.EventModel

<title>@ViewData["Title"] - Candidate Details</title>
<div class="page-header">
    <div class="page-block">
        <div class="row align-items-center">
            <div class="col-md-8">
            </div>
            <div class="col-md-4">
                <ul class="breadcrumb-title">
                    <li class="breadcrumb-item">
                        <a href="/admin/Login/Index"> <i class="fa fa-home"></i> </a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="#!">Event Registration</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="col-md-9">
    <div class="card">
        <div class="card-header">
            <h1>Event Registration</h1>
        </div>
        <div class="card-block">

            <form id=" manageEmployee" class="form-material" enctype="multipart/form-data" method="post">


                <div class="form-group form-default form-static-label">
                    <input type="text" name="event_name" asp-for="event_name" asp-area="admin" class="form-control" placeholder=" Name" required />
                    <span class="form-bar"></span>
                    <label id="fname" class="float-label">Event Name</label>
                </div>
                <div class="form-group form-default form-static-label">
                    <input type="date" name="date" asp-for="date" class="form-control" placeholder="" required />
                    <span class="form-bar"></span>
                    <label id="connum" class="float-label">Event Date</label>
                </div>

                <div class="form-group form-default form-static-label">
                    <input type="text" name="location" asp-for="location" class="form-control" placeholder="Location" required />
                    <span class="form-bar"></span>
                    <label id="wtnum" class="float-label">Location</label>

                </div>
                <input type="hidden" asp-for="id" id="txtid"/>

                <div class="form-group form-default form-static-label">

                    <button id="btnsub" asp-action="SaveEvent" asp-controller="Event" asp-area="Admin"  class="btn btn-primary waves-effect waves-light" formmethod="post">Save</button>

                  <input type="reset" value="Clear" name="reset" class="btn btn-danger waves-effect waves-light" id="btnreset">
                </div>
                <div class="text-right m-r-20">

                    <a href="/admin/Event/DisplayEventList/" class=" b-b-primary text-primary">
                        Event List
                    </a>

                </div>
            </form>
        </div>
    </div>
</div>
<script src="~/js/jquery-3.7.0.min.js"></script>
<script>
    $(document).ready(function () {
        var id = $('#txtid').val();

        if (id > 0) {
            $('#btnsub').text('Update');
            $('#btnreset').hide();
        }
    });

        function redirectToSaveEvent() {
            alert("test message");
            // Retrieve the values from the hidden inputs
        var id = document.getElementById('txtid').value;
            var name = document.getElementById('event_name').value;
            var date = document.getElementById('date').value;
            var location = document.getElementById('location').value;

            // Encode the values to ensure they are URL-safe
            var encodedId = encodeURIComponent(date);
            var encodedName = encodeURIComponent(name);
            var encodedName = encodeURIComponent(location);
            // Construct the URL with query parameters
        var url = `/admin/Event/SaveEvent?event_name=${name}&date=${date}&location=${location}&id=${id}`;

            // Redirect to the constructed URL
            window.location.href = url;
        }
</script>